{"version":3,"sources":["script.js"],"names":["modalQtd","modalKey","cart","pizzaJson","map","item","index","pizzaItem","document","querySelector","cloneNode","setAttribute","src","img","innerHTML","price","toFixed","replace","name","description","addEventListener","event","preventDefault","key","target","closest","getAttribute","computedStyleMap","opacity","style","display","setTimeout","classList","remove","querySelectorAll","forEach","size","sizeIndex","add","sizes","append","closeModal"],"mappings":"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","sourcesContent":["let modalQtd;\r\nlet modalKey = 0;\r\nlet cart = [];\r\n\r\n//-------------Inicio Exibe informações das pizzas-------------//\r\n\r\npizzaJson.map ((item, index) => {\r\n    //clonando o pizza-item\r\n    let pizzaItem = document.querySelector('.models .pizza-item').cloneNode(true);\r\n\r\n    //O atributo data-key permite enviar dados através do html, esses dados podem se utilizados posteriormente por uma janela modal ou por qualquer outro componente.\r\n    //definindo um atributo chamado data-key ao elemento .pizza-item contendo o id da pizza que foi selecionada pelo usuário\r\n    pizzaItem.setAttribute('data-key', index);\r\n\r\n    pizzaItem.querySelector('.pizza-item--img img').src = item.img;\r\n    //toFixed = permite definir quantas casas decimais o javascript irá \r\n\r\n    pizzaItem.querySelector('.pizza-item--price').innerHTML = `R$ ${item.price.toFixed(2).replace('.' , ',')}`;\r\n\r\n    pizzaItem.querySelector('.pizza-item--name').innerHTML = item.name;\r\n\r\n    pizzaItem.querySelector('.pizza-item--desc').innerHTML = item.description;\r\n\r\n    pizzaItem.querySelector('a').addEventListener('click', (event) => {\r\n        event.preventDefault()\r\n\r\n        modalQtd = 1\r\n        \r\n        modalKey = index;\r\n        //queremos pegar a key da pizza ou seja a posição dela no array para sabermos qual pizza foi clicada. Sabemos que todas as pizzas posuem um atrributo data-key com a chave da mesma, assim iremos utilizar o closest para selecionar o elemento e pegar esta key.\r\n        //closest = busca a partir do elemento especificado o elemento mais próximo com a classe ou id especificado, primeiro ele irá procurar dentro de si e depois o elemento mais próximo, seja acima ou abaixo dele.\r\n        //getAttribute =  pega o valor de um atributo\r\n\r\n        let key = event.target.closest('.pizza-item').getAttribute('data-key');\r\n\r\n        document.querySelector('.pizzaWindowArea').computedStyleMap.opacity = 0;\r\n\r\n        document.querySelector('.pizzaWindowArea').style.display = 'flex';\r\n\r\n        setTimeout(() => {\r\n            document.querySelector('.pizzaWindowArea').style.opacity = 1;\r\n        }, 150);\r\n\r\n        document.querySelector('.pizzaBig img').src = pizzaJson[key].img;\r\n\r\n        document.querySelector('.pizzaInfo h1').innerHTML = pizzaJson[key].name\r\n\r\n        document.querySelector('.pizzaInfo--desc').innerHTML = pizzaJson[key].description; \r\n\r\n        document.querySelector('.pizzaInfo--actualPrice').innerHTML = `R$ ${pizzaJson[key].price.toFixed(2).replace('.' , ',')}`;\r\n\r\n        document.querySelector('.pizzaInfo--size.selected').classList.remove('.selected');\r\n\r\n        //\r\n        document.querySelectorAll('.pizzaInfo--size').forEach((size, sizeIndex) => {\r\n\r\n            //fará que a o tamanho garnde sempre seja selecionada por padrão ao usuário clicar em uma pizza\r\n            if (sizeIndex == 2) {\r\n                size.classList.add('selected');\r\n            }\r\n            size.querySelector('span').innerHTML = pizzaJson[key].sizes[sizeIndex];\r\n            //size.querSeleector('span').innerHTML = '123';\r\n        });\r\n\r\n        \r\n    })\r\n\r\n    document.querySelector('.pizza-area').append(pizzaItem);\r\n\r\n})\r\n\r\n\r\n//-------------Fim Exibe informações das pizzas-------------//\r\n\r\n\r\n//-----------Funcionalidade janela modal----------------//\r\n\r\n//-----------Função que fecha o modal-------------//\r\n\r\nfunction closeModal() {\r\n\r\n    document.querySelector('.pizzaWindowArea').style.opacity = 0;\r\n    \r\n    setTimeout(() => {\r\n        document.querySelector('.pizzaWindowArea').style.display = 'none';\r\n    },500)\r\n}\r\n\r\n//Estamos usando o forEach para que automaticamente ele selecione automaticamente cada um dos elementos com as classes abaixo e adicione um EventListener nesses elementos, a cada vez que o usuário clicar em algum botão de fechar ele irá detectar o clique e irá chamar a função closeModal para fechar a janela.\r\ndocument.querySelectorAll('.pizzaInfo--cancelButton, .pizzaInfo--cancelMobileButton').forEach((item) => {\r\n    item.addEventListener('click', closeModal);\r\n});\r\n\r\n/* document.querySelector('.pizzaInfo--cancelButton').addEventListener(() => { \r\n\r\n}) */\r\n\r\n\r\n//-------------QUANTIDADE DE PIZZAS--------------//\r\n\r\ndocument.querySelector('.pizzaInfo--qtmais').addEventListener('click', () => {\r\n    modalQtd++;\r\n\r\n    document.querySelector('.pizzaInfo--qt').innerHTML = modalQtd;\r\n\r\n});\r\n\r\ndocument.querySelector('.pizzaInfo--qtmenos').addEventListener('click', () => { \r\n    if (modalQtd  > 1) {\r\n        modalQtd--;\r\n        \r\n        document.querySelector('.pizzaInfo--qt').innerHTML = modalQtd;\r\n    }\r\n\r\n});     "],"file":"script.dev.js"}