{"version":3,"sources":["script.js"],"names":["modalQtd","modalKey","closeModal","document","querySelector","style","opacity","setTimeout","display","pizzaJson","map","item","index","pizzaItem","cloneNode","innerHTML","img","event","price","toFixed","replace","name","description","addEventListener","key","closest","computedStyleMap","size","classList","src","concat","remove","querySelectorAll","forEach","sizeIndex","add","sizes","append"],"mappings":"aAAA,IAAIA,SACAC,SAAW,EADXD,KAAAA,GA+EJ,SAASE,aAELC,SAASC,cAAc,oBAAoBC,MAAMC,QAAU,EAE3DC,WAAW,WACPJ,SAASC,cAAc,oBAAoBC,MAAMG,QAAU,QAC7D,KA/ENC,UAAUC,IAAK,SAAAC,EAAAC,GAEX,IAAIC,EAAYV,SAASC,cAAc,uBAAuBU,WAAU,GAMxED,EAAUT,aAAc,WAAAQ,GAGxBC,EAAUT,cAAc,wBAAsBW,IAA9CJ,EAAAK,IAMAH,EAAUT,cAAc,sBAAsBW,UAA9CF,MAAAA,OAAwDI,EAADC,MAAWC,QAAA,GAAAC,QAAA,IAAA,MAG9DpB,EAAQI,cAAR,qBAAAW,UAAAJ,EAAAU,KAIAR,EAAAT,cAAA,qBAAAW,UAAAJ,EAAAW,YAPJT,EAAUT,cAAc,KAAKmB,iBAAiB,QAAS,SAACN,GAUhDO,EAAMP,iBAIVd,SAASC,EAGLD,SAASC,EASbD,IAAQqB,EAACpB,EAAAA,OAAcqB,QAAA,eAA2BV,aAAlD,YAdAZ,SAASC,cAAc,oBAAoBsB,iBAAiBpB,QAAU,EAqBlEH,SAAAC,cAAA,oBAAAC,MAAAG,QAAA,OAEImB,WAAKC,WACRzB,SAAAC,cAAA,oBAAAC,MAAAC,QAAA,GAlBF,KAaHH,SAAAC,cAAA,iBAAAyB,IAAApB,UAAAe,GAAAR,IAaJb,SAASC,cAAc,iBAAsBS,UAA7CJ,UAAAe,GAAAH,KAQJlB,SAAAC,cAAA,oBAAAW,UAAAN,UAAAe,GAAAF,YA1BQnB,SAASC,cAAc,2BAA2BW,UAAlD,MAAAe,OAAoErB,UAAUe,GAAKN,MAAMC,QAAQ,GAAGC,QAAQ,IAAM,MAgCtHjB,SAASC,cAAc,6BAAvBwB,UAAAG,OAAA,aAEU5B,SAAV6B,iBAAA,oBAAAC,QAAA,SAAAN,EAAAO,GA1ByB,GAAbA,GAgCPF,EAAAA,UAAiBG,IAAA,YAA1BR,EAAAvB,cAAA,QAAAW,UAAAN,UAAAe,GAAAY,MAAAF,OAYIlC,SAAQI,cAAA,eAAAiC,OAAAxB,KAZZV,SAAS6B,iBAAiB,4DAA4DC,QAAQ,SAACtB,GAC3FA,EAAKY,iBAAiB,QAASrB,cAUnCC,SAASC,cAAc,sBAAsBmB,iBAAiB,QAAS,WACnEvB,WAEAG,SAASC,cAAc,kBAAkBW,UAAYf,WAIzDG,SAASC,cAAc,uBAAuBmB,iBAAiB,QAAS,WACpD,EAAZvB,WACAA,WAEAG,SAASC,cAAc,kBAAkBW,UAAYf","file":"script.min.js","sourcesContent":["let modalQtd;\r\nlet modalKey = 0;\r\nlet cart = [];\r\n\r\n//-------------Inicio Exibe informações das pizzas-------------//\r\n\r\npizzaJson.map ((item, index) => {\r\n    //clonando o pizza-item\r\n    let pizzaItem = document.querySelector('.models .pizza-item').cloneNode(true);\r\n\r\n    //O atributo data-key permite enviar dados através do html, esses dados podem se utilizados posteriormente por uma janela modal ou por qualquer outro componente.\r\n    //definindo um atributo chamado data-key ao elemento .pizza-item contendo o id da pizza que foi selecionada pelo usuário\r\n    pizzaItem.setAttribute('data-key', index);\r\n\r\n    pizzaItem.querySelector('.pizza-item--img img').src = item.img;\r\n    //toFixed = permite definir quantas casas decimais o javascript irá \r\n\r\n    pizzaItem.querySelector('.pizza-item--price').innerHTML = `R$ ${item.price.toFixed(2).replace('.' , ',')}`;\r\n\r\n    pizzaItem.querySelector('.pizza-item--name').innerHTML = item.name;\r\n\r\n    pizzaItem.querySelector('.pizza-item--desc').innerHTML = item.description;\r\n\r\n    pizzaItem.querySelector('a').addEventListener('click', (event) => {\r\n        event.preventDefault()\r\n\r\n        modalQtd = 1\r\n        \r\n        modalKey = index;\r\n        //queremos pegar a key da pizza ou seja a posição dela no array para sabermos qual pizza foi clicada. Sabemos que todas as pizzas posuem um atrributo data-key com a chave da mesma, assim iremos utilizar o closest para selecionar o elemento e pegar esta key.\r\n        //closest = busca a partir do elemento especificado o elemento mais próximo com a classe ou id especificado, primeiro ele irá procurar dentro de si e depois o elemento mais próximo, seja acima ou abaixo dele.\r\n        //getAttribute =  pega o valor de um atributo\r\n\r\n        let key = event.target.closest('.pizza-item').getAttribute('data-key');\r\n\r\n        document.querySelector('.pizzaWindowArea').computedStyleMap.opacity = 0;\r\n\r\n        document.querySelector('.pizzaWindowArea').style.display = 'flex';\r\n\r\n        setTimeout(() => {\r\n            document.querySelector('.pizzaWindowArea').style.opacity = 1;\r\n        }, 150);\r\n\r\n        document.querySelector('.pizzaBig img').src = pizzaJson[key].img;\r\n\r\n        document.querySelector('.pizzaInfo h1').innerHTML = pizzaJson[key].name\r\n\r\n        document.querySelector('.pizzaInfo--desc').innerHTML = pizzaJson[key].description; \r\n\r\n        document.querySelector('.pizzaInfo--actualPrice').innerHTML = `R$ ${pizzaJson[key].price.toFixed(2).replace('.' , ',')}`;\r\n\r\n        document.querySelector('.pizzaInfo--size.selected').classList.remove('.selected');\r\n\r\n        //\r\n        document.querySelectorAll('.pizzaInfo--size').forEach((size, sizeIndex) => {\r\n\r\n            //fará que a o tamanho garnde sempre seja selecionada por padrão ao usuário clicar em uma pizza\r\n            if (sizeIndex == 2) {\r\n                size.classList.add('selected');\r\n            }\r\n            size.querySelector('span').innerHTML = pizzaJson[key].sizes[sizeIndex];\r\n            //size.querSeleector('span').innerHTML = '123';\r\n        });\r\n\r\n        \r\n    })\r\n\r\n    document.querySelector('.pizza-area').append(pizzaItem);\r\n\r\n})\r\n\r\n\r\n//-------------Fim Exibe informações das pizzas-------------//\r\n\r\n\r\n//-----------Funcionalidade janela modal----------------//\r\n\r\n//-----------Função que fecha o modal-------------//\r\n\r\nfunction closeModal() {\r\n\r\n    document.querySelector('.pizzaWindowArea').style.opacity = 0;\r\n    \r\n    setTimeout(() => {\r\n        document.querySelector('.pizzaWindowArea').style.display = 'none';\r\n    },500)\r\n}\r\n\r\n//Estamos usando o forEach para que automaticamente ele selecione automaticamente cada um dos elementos com as classes abaixo e adicione um EventListener nesses elementos, a cada vez que o usuário clicar em algum botão de fechar ele irá detectar o clique e irá chamar a função closeModal para fechar a janela.\r\ndocument.querySelectorAll('.pizzaInfo--cancelButton, .pizzaInfo--cancelMobileButton').forEach((item) => {\r\n    item.addEventListener('click', closeModal);\r\n});\r\n\r\n/* document.querySelector('.pizzaInfo--cancelButton').addEventListener(() => { \r\n\r\n}) */\r\n\r\n\r\n//-------------QUANTIDADE DE PIZZAS--------------//\r\n\r\ndocument.querySelector('.pizzaInfo--qtmais').addEventListener('click', () => {\r\n    modalQtd++;\r\n\r\n    document.querySelector('.pizzaInfo--qt').innerHTML = modalQtd;\r\n\r\n});\r\n\r\ndocument.querySelector('.pizzaInfo--qtmenos').addEventListener('click', () => { \r\n    if (modalQtd  > 1) {\r\n        modalQtd--;\r\n        \r\n        document.querySelector('.pizzaInfo--qt').innerHTML = modalQtd;\r\n    }\r\n\r\n});     "]}